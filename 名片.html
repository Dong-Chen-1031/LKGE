<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>名片-陳柏東</title>
    <link href="名片.css" rel="stylesheet">
    <base href="https://dong-chen-1031.github.io/LKGE/">
    <style>
        .hide{display: none;}
        p{font-size: 20px;}
        textarea{font-size: 15px;}
    </style>
</head>
<body>
    <div class="lkgediv flex">
        <img src="資優班LOGO.png" class="lkgeimg item">
        <p class="lkgetext flexitem">林口國小資優班</p>
    </div>
    <hr class="hr1"/>
    <div class="dongdiv">
        <div class="flex namediv">
            <p class="namea">學生：</p>
            <img src="Dong_loge1.0_-_複製-removebg-preview.png" class="lkgeimg item dongimg" id="img">
            <p class="flexitem flexitem name" id="name">loding</p>
        </div>
        <p class="tt">地址：<span id="address">loding</span></p>
        <a href='#' id="Emaila"><p class="tt">電子郵件:<span id="Email">loding</span></p></a>
        <p class="tt">行動電話：<span id="phone">loding</span></p>
    </div>
    <div onclick="openwhy();"><p class="whyopen">名片原理　▼</p></div>
    <div id='why' class="hide">
        <p>
            本名片的內容抓取於一個json（<b>J</b>ava<b>S</b>cript <b>O</b>bject <b>N</b>otation：是一種資料儲存格式），當json檔案改變，本名片內容會更著改變，藉此達到快速客製化名片。(
            <a href="https://dong-chen-1031.github.io/LKGE/%E5%90%8D%E7%89%87.json" target="_blank">
                https://dong-chen-1031.github.io/LKGE/名片.json
            </a>)<br><br>json內容如下：
        </p>
        <textarea cols="100" rows="10" id="whyw" oninput="textwhy(this)"></textarea>
        <p>ps.歡迎編輯上方json，並觀察本名片的改變，但格式需正確(「""」和「：」 勿刪除，只能變更「:」後方文字)<br><br>name = 名字<br>address = 地址<br>Email = 電子郵件<br>phone = 行動電話<br>img = 圖片(暫時勿更動)</p>
    </div>

    <script>
        function update (result){
            result = JSON.parse(result);
            var iten = ['address','name','phone','Email'];
            var iten0 = result[0];
            for (var i = 0; i < iten.length; i++) {
                eval('document.getElementById(iten[i]).innerText = iten0.'+iten[i]);
            };
            document.getElementById('Emaila').setAttribute('href','mailto:'+iten0.Email);
            document.getElementById('img').setAttribute('src',iten0.img);
        };
        fetch("https://dong-chen-1031.github.io/LKGE/%E5%90%8D%E7%89%87.json").then(function(response){
            return response.text();
        }).then(function(re){
            document.getElementById('whyw').value = re;
            return re;
        }).then(update)
        function openwhy(){
            document.getElementById('why').classList.toggle('hide')
        } 
        function textwhy(text){
            update(text.value);
        };
    </script> 
</body>
</html>